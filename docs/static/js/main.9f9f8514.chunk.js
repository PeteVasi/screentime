(this["webpackJsonpscreen-time"]=this["webpackJsonpscreen-time"]||[]).push([[0],{15:function(e,t,i){},17:function(e,t,i){},18:function(e,t,i){"use strict";i.r(t);var s=i(0),n=i(2),a=i(8),r=i.n(a),d=(i(15),i(3)),o=i(4),c=i(1),m=i(6),h=i(5),u=i(9),p=i.n(u),l=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(d.a)(this,i),(s=t.call(this,e)).state={remaining:s.props.timeRemaining,elapsed:0,isRunning:!1,isJustExpired:!1,isExpired:s.props.timeRemaining<=0,isAdminMode:s.props.isAdminMode},s.startTimer=s.startTimer.bind(Object(c.a)(s)),s.stopTimer=s.stopTimer.bind(Object(c.a)(s)),s.plus10=s.plus10.bind(Object(c.a)(s)),s.minus10=s.minus10.bind(Object(c.a)(s)),s.tick=s.tick.bind(Object(c.a)(s)),s.confirmExpired=s.confirmExpired.bind(Object(c.a)(s)),s}return Object(o.a)(i,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"componentDidUpdate",value:function(e){this.state.isRunning||this.props.timeRemaining===e.timeRemaining&&this.props.isAdminMode===e.isAdminMode||this.setState({remaining:this.props.timeRemaining,elapsed:0,isRunning:!1,isJustExpired:!1,isExpired:this.props.timeRemaining<=0,isAdminMode:this.props.isAdminMode})}},{key:"render",value:function(){var e=p.a.utc(this.state.remaining-this.state.elapsed).format("H:mm:ss");return Object(s.jsxs)("div",{className:"timer-row",children:[Object(s.jsxs)("div",{className:"timer-name",children:[this.props.name,":"]}),this.state.isExpired?Object(s.jsx)("div",{className:"timer-timeup",children:"Time's up!"}):Object(s.jsx)("div",{className:"timer-remains",children:e}),!this.state.isExpired&&Object(s.jsxs)("div",{className:"timer-buttons",children:[Object(s.jsx)("button",{onClick:this.startTimer,disabled:this.state.isRunning,children:"Start"}),Object(s.jsx)("button",{onClick:this.stopTimer,disabled:!this.state.isRunning,children:"Stop"})]}),this.state.isJustExpired&&Object(s.jsx)("div",{className:"timer-buttons",children:Object(s.jsx)("button",{onClick:this.confirmExpired,children:"Ok"})}),this.state.isAdminMode&&Object(s.jsxs)("div",{className:"timer-buttons",children:[Object(s.jsx)("button",{onClick:this.minus10,children:"-10"}),Object(s.jsx)("button",{onClick:this.plus10,children:"+10"})]})]})}},{key:"startTimer",value:function(){this.setState({start:Date.now(),isRunning:!0}),this.timer=setInterval(this.tick,100)}},{key:"stopTimer",value:function(){clearInterval(this.timer);var e=this.state.remaining-this.state.elapsed;this.setState({remaining:e,elapsed:0,isRunning:!1})}},{key:"plus10",value:function(){var e=this.state.remaining+6e5;this.setState({remaining:e,elapsed:0}),this.props.timeUpdated&&this.props.timeUpdated(e)}},{key:"minus10",value:function(){var e=this.state.remaining-6e5;this.setState({remaining:e<0?0:e,elapsed:0}),this.props.timeUpdated&&this.props.timeUpdated(e<0?0:e)}},{key:"tick",value:function(){var e=new Date-this.state.start;this.state.remaining-e<=0?(clearInterval(this.timer),this.setState({remaining:0,elapsed:0,isRunning:!1,isExpired:!0,isJustExpired:!0}),this.props.timeUpdated&&this.props.timeUpdated(0)):(this.setState({elapsed:e}),this.props.timeUpdated&&this.props.timeUpdated(this.state.remaining-e))}},{key:"confirmExpired",value:function(){this.setState({isJustExpired:!1})}}]),i}(n.Component),b=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(d.a)(this,i),(s=t.call(this,e)).state={loaded:!1,isAdminMode:s.props.isAdminMode},s.updateTimeLeft=s.updateTimeLeft.bind(Object(c.a)(s)),s.resetUserTimeOnNewDay=s.resetUserTimeOnNewDay.bind(Object(c.a)(s)),s.checkDayPassed=s.checkDayPassed.bind(Object(c.a)(s)),s.getFromCookie=s.getFromCookie.bind(Object(c.a)(s)),s.setCookie=s.setCookie.bind(Object(c.a)(s)),s.DEFAULT_TIME_LEFT=72e5,s}return Object(o.a)(i,[{key:"componentDidMount",value:function(){var e=this,t=[{}],i=this.getFromCookie("users");t=i?JSON.parse(i):[{name:"Ethan",timeLeft:this.DEFAULT_TIME_LEFT},{name:"Noah",timeLeft:this.DEFAULT_TIME_LEFT}],this.checkDayPassed()&&t.forEach((function(t){return t.timeLeft=e.DEFAULT_TIME_LEFT})),this.setState({users:t,loaded:!0}),setInterval(this.resetUserTimeOnNewDay,6e4)}},{key:"componentDidUpdate",value:function(e){this.props.isAdminMode!==e.isAdminMode&&this.setState({isAdminMode:this.props.isAdminMode})}},{key:"render",value:function(){var e=this;return this.state.loaded?Object(s.jsx)("div",{children:this.state.users.map((function(t,i){return Object(s.jsx)(l,{name:t.name,timeRemaining:t.timeLeft,timeUpdated:function(i){e.updateTimeLeft(t.name,i)},isAdminMode:e.state.isAdminMode},i)}))}):Object(s.jsx)("div",{children:"Loading..."})}},{key:"updateTimeLeft",value:function(e,t){var i=JSON.parse(JSON.stringify(this.state.users));i.forEach((function(i){i.name===e&&(i.timeLeft=t)})),this.setState({users:i}),this.setCookie("users",JSON.stringify(i))}},{key:"resetUserTimeOnNewDay",value:function(){var e=this;if(this.checkDayPassed()){var t=JSON.parse(JSON.stringify(this.state.users));t.forEach((function(t){return t.timeLeft=e.DEFAULT_TIME_LEFT})),this.setState({users:t}),this.setCookie("users",JSON.stringify(t))}}},{key:"checkDayPassed",value:function(){var e=new Date,t=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear(),i=this.getFromCookie("day_reset");return(!i||i!==t)&&(this.setCookie("day_reset",t),!0)}},{key:"getFromCookie",value:function(e){for(var t=e+"=",i=document.cookie.split(";"),s=0;s<i.length;s++){for(var n=i[s];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return!1}},{key:"setCookie",value:function(e,t){document.cookie=e+"="+t}}]),i}(n.Component),j=(i(17),function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(d.a)(this,i),(s=t.call(this,e)).state={isAdminMode:!1,inputPin:""},s.adminMode=s.adminMode.bind(Object(c.a)(s)),s.handleChange=s.handleChange.bind(Object(c.a)(s)),s}return Object(o.a)(i,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{className:"App-header",children:Object(s.jsx)("h1",{className:"App-title",children:"Screen Time"})}),Object(s.jsx)(b,{isAdminMode:this.state.isAdminMode}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"admin-area",children:[Object(s.jsx)("input",{type:"password",name:"pinCode",value:this.state.inputPin,onChange:this.handleChange}),Object(s.jsx)("button",{onClick:this.adminMode,children:this.state.isAdminMode?"Done":"Edit"})]})]})}},{key:"handleChange",value:function(e){this.setState({inputPin:e.target.value})}},{key:"adminMode",value:function(){this.state.isAdminMode?this.setState({isAdminMode:!1,inputPin:""}):"45152"===this.state.inputPin&&this.setState({isAdminMode:!0,inputPin:""})}}]),i}(n.Component));r.a.render(Object(s.jsx)(j,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.9f9f8514.chunk.js.map